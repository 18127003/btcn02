(this.webpackJsonpbtcn01=this.webpackJsonpbtcn01||[]).push([[0],{12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),c=n(6),s=n.n(c),u=(n(12),n(2)),l=n(7),a="DRAW",o=function(e,t,n,r){if(!(t>e.length))for(var i=[],c=void 0,s=1,u=null!==r&&void 0!==r?r:0;u<e.length;u++){if(c===e[u]-n){if(s++,i.push(e[u]),s===t)return i}else s=1,i=[e[u]];c=e[u]}},b=n(0),j=function(e){return Object(b.jsx)("button",{className:"square",onClick:e.onClick,children:e.isHighlight?Object(b.jsx)("mark",{children:e.value}):e.value},e.id)},f=function(e){var t=function(t,n,r){return Object(b.jsx)(j,{id:t*r+n,value:e.squares[t*r+n],onClick:function(){return e.onClick(t,n)},isHighlight:e.winner.includes(t*r+n)})},n=function(e,n){for(var r=Array(n).fill(null),i=0;i<n;++i)r[i]=t(e,i,n);return r};return Object(b.jsx)("div",{children:function(e){for(var t=Array(e).fill(null),r=0;r<e;++r)t[r]=Object(b.jsx)("div",{className:"board-row",children:n(r,e)},r);return t}(e.size)})},d=function(e){var t=e.data,n=e.onSelect,i=e.selected,c=Object(r.useState)(!1),s=Object(u.a)(c,2),l=s[0],a=s[1],o=t.map((function(e){var t=e.move.stepNumber,r=e.move.position,c=t?"Go to move #".concat(t," (").concat(null===r||void 0===r?void 0:r.col,", ").concat(null===r||void 0===r?void 0:r.row,")"):"Go to game start";return Object(b.jsx)("li",{children:Object(b.jsx)("button",{onClick:function(){n(t)},style:t===i?{fontWeight:"bold"}:{},children:c})},t)}));return l&&(o=o.reverse()),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("button",{onClick:function(){a(!l)},children:"Change to ".concat(l?"ascending":"descending"," order")}),Object(b.jsx)("ol",{children:o})]})},v=function(e){var t=e.size,n=e.winCriteria,i=Object(r.useState)([{move:{squares:Array(t*t).fill(null),position:{row:-1,col:-1},stepNumber:0},result:void 0}]),c=Object(u.a)(i,2),s=c[0],j=c[1],v=Object(r.useState)({stepNumber:0,xIsNext:!0}),m=Object(u.a)(v,2),x=m[0],O=m[1];Object(r.useEffect)((function(){j([{move:{squares:Array(t*t).fill(null),position:{row:-1,col:-1},stepNumber:0},result:void 0}]),O({stepNumber:0,xIsNext:!0})}),[t,n]);var h,p=function(e,r){var i=s.slice(0,x.stepNumber+1),c=i.slice(-1)[0],u=c.move.squares.slice(),b=e*t+r;if(!c.result&&!u[b]){var f=x.xIsNext?"X":"O";u[b]=f;var d=function(e,t,n,r,i){var c,s,u=null!==(c=e[t*r+n])&&void 0!==c?c:"X",l=Array(r).fill(0).map((function(e,n){return t*r+n})).filter((function(t){return e[t]===u}));if(s=o(l,i,1))return{result:u,line:s};var b=Array(r).fill(0).map((function(e,t){return n+t*r})).filter((function(t){return e[t]===u}));if(s=o(b,i,r))return{result:u,line:s};var j=Array(r-Math.abs(t-n)).fill(0);if(j=(j=n<t?j.map((function(e,i){return(i+t-n)*r+i})):j.map((function(e,i){return i*r+i+n-t}))).filter((function(t){return e[t]===u})),s=o(j,i,r+1))return{result:u,line:s};var f=Array(r-Math.abs(n+t+1-r)).fill(0);return f=(f=n+t<r-1?f.map((function(e,i){return i*r+n-i+t})):f.map((function(e,i){return(i+n+t-r+2)*r-i-1}))).filter((function(t){return e[t]===u})),(s=o(f,i,r-1))?{result:u,line:s}:e.every((function(e){return e}))?{result:a,line:[]}:void 0}(u,e,r,t,n);j([].concat(Object(l.a)(i),[{move:{squares:u,position:{row:e,col:r},stepNumber:i.length++},result:d}])),O({stepNumber:i.length-1,xIsNext:!x.xIsNext})}},N=s.find((function(e){return e.move.stepNumber===x.stepNumber}));void 0===N&&(N=s.slice(-1)[0]);var g=[],w=N.result;return void 0===w?h="Next player: "+(x.xIsNext?"X":"O"):w.result===a?h="Draw":(h="Winner: "+w.result,g=w.line),Object(b.jsxs)("div",{className:"game",children:[Object(b.jsx)("div",{className:"game-board",children:Object(b.jsx)(f,{squares:N.move.squares,size:t,onClick:function(e,t){return p(e,t)},winner:g})}),Object(b.jsxs)("div",{className:"game-info",children:[Object(b.jsx)("div",{children:h}),Object(b.jsx)(d,{data:s,onSelect:function(e){O({stepNumber:e,xIsNext:e%2===0})},selected:x.stepNumber})]})]})},m=function(){var e=Object(r.useState)(!1),t=Object(u.a)(e,2),n=t[0],i=t[1],c=Object(r.useState)({size:3,winCriteria:3}),s=Object(u.a)(c,2),l=s[0],a=s[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("form",{className:"".concat(n?"invisible":""),onSubmit:function(e){e.preventDefault();var t=e.target,n={size:+t.size.value,winCriteria:+t.winCriteria.value};a(n),i(!0)},children:[Object(b.jsxs)("label",{children:["Board size:",Object(b.jsx)("input",{name:"size",type:"number"})]}),Object(b.jsx)("br",{}),Object(b.jsxs)("label",{children:["Number of win consequence:",Object(b.jsx)("input",{name:"winCriteria",type:"number"})]}),Object(b.jsx)("br",{}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{type:"submit",value:"Start"})})]}),Object(b.jsxs)("div",{className:"".concat(n?"":"invisible"),children:[Object(b.jsx)("button",{onClick:function(){i(!1)},children:"Go back"}),Object(b.jsx)("br",{}),Object(b.jsx)(v,{size:l.size,winCriteria:l.winCriteria})]})]})};s.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsx)(m,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.3bd4ed18.chunk.js.map